<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Page Not Found - Redirecting...</title>
    <script type="text/javascript">
      // リポジトリ名 (例: /portfolio)
      const publicUrlSegment = '/' + location.pathname.split('/')[1];

      // アクセスしようとしたパス (例: /portfolio/profile)
      const originalPath = location.pathname;

      // sessionStorageにリダイレクト先の相対パスを保存
      // (例: /profile や / )
      let redirectTo = originalPath.startsWith(publicUrlSegment + '/') 
                       ? originalPath.substring(publicUrlSegment.length) 
                       : '/';
      if (redirectTo === '') redirectTo = '/'; // ルートの場合

      sessionStorage.redirect = redirectTo;

      // アプリケーションのルート (index.html のある場所) にリダイレクト
      // (例: https://iso1216.github.io/portfolio/)
      location.href = location.protocol + '//' + location.host + publicUrlSegment + '/';
    </script>
  </head>
  <body>
    If you are not redirected automatically, please click <a href="/">here</a>.
  </body>
</html>
